{
  "apiVersion": "cos.bf2.org/v1alpha1",
  "kind": "CamelConnector",
  "metadata": {
    "name": "camel-1",
    "annotations": {
      "cos.bf2.org/connector.id": "c1"
    }
  },
  "spec": {
    "resourceVersion": 18,
    "connector": {
      "kamelets": [
        {
          "apiVersion": "camel.apache.org/v1alpha1",
          "metadata": { "name": "time-source-v1" },
          "spec": {
            "flow": {
              "from": {
                "uri": "timer:tick",
                "parameters": {
                  "period": "{{period}}"
                },
                "steps": [
                  { "set-body": { "constant": "{{message}}" } },
                  { "to": "kamelet:sink" }
                ]
              }
            }
          }
        },
        {
          "apiVersion": "camel.apache.org/v1alpha1",
          "metadata": { "name": "log-sink-v1" },
          "spec": {
            "flow": {
              "from": {
                "uri": "kamelet:source",
                "steps": [
                  { "to": "log:sink" }
                ]
              }
            }
          }
        }
      ],
      "binding": {
        "source": { 
          "kind": "Kamelet", 
          "apiVersion": "camel.apache.org/v1alpha1" , 
          "name": "time-source-v1",
          "properties": {
            "period": "5s",
            "message": "hello"
          }
        },
        "sink": { 
          "kind": "Kamelet", 
          "apiVersion": "camel.apache.org/v1alpha1" , 
          "name": "log-sink-v1"
        }
      }
    },
    "template": {
      "spec": {
        "containers": [
          {
            "name": "nginx",
            "image": "nginx:1.14.2"
          }
        ]
      }
    }
  }
}